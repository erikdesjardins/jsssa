---
source: src/tests/parse.rs
expression: ast
---
Script {
    span: Span {
        lo: BytePos(
            5,
        ),
        hi: BytePos(
            161,
        ),
        ctxt: #0,
    },
    body: [
        Decl(
            Fn(
                FnDecl {
                    ident: Ident {
                        span: Span {
                            lo: BytePos(
                                14,
                            ),
                            hi: BytePos(
                                15,
                            ),
                            ctxt: #0,
                        },
                        sym: Atom('f' type=inline),
                        type_ann: None,
                        optional: false,
                    },
                    declare: false,
                    function: Function {
                        params: [
                            Ident(
                                Ident {
                                    span: Span {
                                        lo: BytePos(
                                            16,
                                        ),
                                        hi: BytePos(
                                            17,
                                        ),
                                        ctxt: #0,
                                    },
                                    sym: Atom('x' type=inline),
                                    type_ann: None,
                                    optional: false,
                                },
                            ),
                        ],
                        decorators: [],
                        span: Span {
                            lo: BytePos(
                                5,
                            ),
                            hi: BytePos(
                                145,
                            ),
                            ctxt: #0,
                        },
                        body: Some(
                            BlockStmt {
                                span: Span {
                                    lo: BytePos(
                                        19,
                                    ),
                                    hi: BytePos(
                                        145,
                                    ),
                                    ctxt: #0,
                                },
                                stmts: [
                                    While(
                                        WhileStmt {
                                            span: Span {
                                                lo: BytePos(
                                                    29,
                                                ),
                                                hi: BytePos(
                                                    42,
                                                ),
                                                ctxt: #0,
                                            },
                                            test: Lit(
                                                Bool(
                                                    Bool {
                                                        span: Span {
                                                            lo: BytePos(
                                                                36,
                                                            ),
                                                            hi: BytePos(
                                                                40,
                                                            ),
                                                            ctxt: #0,
                                                        },
                                                        value: true,
                                                    },
                                                ),
                                            ),
                                            body: Empty(
                                                EmptyStmt {
                                                    span: Span {
                                                        lo: BytePos(
                                                            41,
                                                        ),
                                                        hi: BytePos(
                                                            42,
                                                        ),
                                                        ctxt: #0,
                                                    },
                                                },
                                            ),
                                        },
                                    ),
                                    Expr(
                                        Assign(
                                            AssignExpr {
                                                span: Span {
                                                    lo: BytePos(
                                                        51,
                                                    ),
                                                    hi: BytePos(
                                                        60,
                                                    ),
                                                    ctxt: #0,
                                                },
                                                op: "=",
                                                left: Pat(
                                                    Ident(
                                                        Ident {
                                                            span: Span {
                                                                lo: BytePos(
                                                                    51,
                                                                ),
                                                                hi: BytePos(
                                                                    52,
                                                                ),
                                                                ctxt: #0,
                                                            },
                                                            sym: Atom('x' type=inline),
                                                            type_ann: None,
                                                            optional: false,
                                                        },
                                                    ),
                                                ),
                                                right: Member(
                                                    MemberExpr {
                                                        span: Span {
                                                            lo: BytePos(
                                                                55,
                                                            ),
                                                            hi: BytePos(
                                                                60,
                                                            ),
                                                            ctxt: #0,
                                                        },
                                                        obj: Expr(
                                                            Ident(
                                                                Ident {
                                                                    span: Span {
                                                                        lo: BytePos(
                                                                            55,
                                                                        ),
                                                                        hi: BytePos(
                                                                            56,
                                                                        ),
                                                                        ctxt: #0,
                                                                    },
                                                                    sym: Atom('y' type=inline),
                                                                    type_ann: None,
                                                                    optional: false,
                                                                },
                                                            ),
                                                        ),
                                                        prop: Ident(
                                                            Ident {
                                                                span: Span {
                                                                    lo: BytePos(
                                                                        57,
                                                                    ),
                                                                    hi: BytePos(
                                                                        60,
                                                                    ),
                                                                    ctxt: #0,
                                                                },
                                                                sym: Atom('bar' type=inline),
                                                                type_ann: None,
                                                                optional: false,
                                                            },
                                                        ),
                                                        computed: false,
                                                    },
                                                ),
                                            },
                                        ),
                                    ),
                                    Expr(
                                        Assign(
                                            AssignExpr {
                                                span: Span {
                                                    lo: BytePos(
                                                        70,
                                                    ),
                                                    hi: BytePos(
                                                        93,
                                                    ),
                                                    ctxt: #0,
                                                },
                                                op: "=",
                                                left: Pat(
                                                    Expr(
                                                        Member(
                                                            MemberExpr {
                                                                span: Span {
                                                                    lo: BytePos(
                                                                        70,
                                                                    ),
                                                                    hi: BytePos(
                                                                        75,
                                                                    ),
                                                                    ctxt: #0,
                                                                },
                                                                obj: Expr(
                                                                    Ident(
                                                                        Ident {
                                                                            span: Span {
                                                                                lo: BytePos(
                                                                                    70,
                                                                                ),
                                                                                hi: BytePos(
                                                                                    71,
                                                                                ),
                                                                                ctxt: #0,
                                                                            },
                                                                            sym: Atom('z' type=inline),
                                                                            type_ann: None,
                                                                            optional: false,
                                                                        },
                                                                    ),
                                                                ),
                                                                prop: Ident(
                                                                    Ident {
                                                                        span: Span {
                                                                            lo: BytePos(
                                                                                72,
                                                                            ),
                                                                            hi: BytePos(
                                                                                75,
                                                                            ),
                                                                            ctxt: #0,
                                                                        },
                                                                        sym: Atom('foo' type=inline),
                                                                        type_ann: None,
                                                                        optional: false,
                                                                    },
                                                                ),
                                                                computed: false,
                                                            },
                                                        ),
                                                    ),
                                                ),
                                                right: Cond(
                                                    CondExpr {
                                                        span: Span {
                                                            lo: BytePos(
                                                                78,
                                                            ),
                                                            hi: BytePos(
                                                                93,
                                                            ),
                                                            ctxt: #0,
                                                        },
                                                        test: Ident(
                                                            Ident {
                                                                span: Span {
                                                                    lo: BytePos(
                                                                        78,
                                                                    ),
                                                                    hi: BytePos(
                                                                        79,
                                                                    ),
                                                                    ctxt: #0,
                                                                },
                                                                sym: Atom('x' type=inline),
                                                                type_ann: None,
                                                                optional: false,
                                                            },
                                                        ),
                                                        cons: Lit(
                                                            Bool(
                                                                Bool {
                                                                    span: Span {
                                                                        lo: BytePos(
                                                                            82,
                                                                        ),
                                                                        hi: BytePos(
                                                                            86,
                                                                        ),
                                                                        ctxt: #0,
                                                                    },
                                                                    value: true,
                                                                },
                                                            ),
                                                        ),
                                                        alt: Lit(
                                                            Str(
                                                                Str {
                                                                    span: Span {
                                                                        lo: BytePos(
                                                                            89,
                                                                        ),
                                                                        hi: BytePos(
                                                                            93,
                                                                        ),
                                                                        ctxt: #0,
                                                                    },
                                                                    value: Atom('hi' type=inline),
                                                                    has_escape: false,
                                                                },
                                                            ),
                                                        ),
                                                    },
                                                ),
                                            },
                                        ),
                                    ),
                                    Return(
                                        ReturnStmt {
                                            span: Span {
                                                lo: BytePos(
                                                    103,
                                                ),
                                                hi: BytePos(
                                                    139,
                                                ),
                                                ctxt: #0,
                                            },
                                            arg: Some(
                                                Unary(
                                                    UnaryExpr {
                                                        span: Span {
                                                            lo: BytePos(
                                                                110,
                                                            ),
                                                            hi: BytePos(
                                                                138,
                                                            ),
                                                            ctxt: #0,
                                                        },
                                                        op: "+",
                                                        arg: Array(
                                                            ArrayLit {
                                                                span: Span {
                                                                    lo: BytePos(
                                                                        111,
                                                                    ),
                                                                    hi: BytePos(
                                                                        138,
                                                                    ),
                                                                    ctxt: #0,
                                                                },
                                                                elems: [
                                                                    Some(
                                                                        ExprOrSpread {
                                                                            spread: None,
                                                                            expr: Bin(
                                                                                BinExpr {
                                                                                    span: Span {
                                                                                        lo: BytePos(
                                                                                            112,
                                                                                        ),
                                                                                        hi: BytePos(
                                                                                            118,
                                                                                        ),
                                                                                        ctxt: #0,
                                                                                    },
                                                                                    op: "||",
                                                                                    left: Lit(
                                                                                        Num(
                                                                                            Number {
                                                                                                span: Span {
                                                                                                    lo: BytePos(
                                                                                                        112,
                                                                                                    ),
                                                                                                    hi: BytePos(
                                                                                                        113,
                                                                                                    ),
                                                                                                    ctxt: #0,
                                                                                                },
                                                                                                value: 1.0,
                                                                                            },
                                                                                        ),
                                                                                    ),
                                                                                    right: Ident(
                                                                                        Ident {
                                                                                            span: Span {
                                                                                                lo: BytePos(
                                                                                                    117,
                                                                                                ),
                                                                                                hi: BytePos(
                                                                                                    118,
                                                                                                ),
                                                                                                ctxt: #0,
                                                                                            },
                                                                                            sym: Atom('x' type=inline),
                                                                                            type_ann: None,
                                                                                            optional: false,
                                                                                        },
                                                                                    ),
                                                                                },
                                                                            ),
                                                                        },
                                                                    ),
                                                                    Some(
                                                                        ExprOrSpread {
                                                                            spread: None,
                                                                            expr: Object(
                                                                                ObjectLit {
                                                                                    span: Span {
                                                                                        lo: BytePos(
                                                                                            120,
                                                                                        ),
                                                                                        hi: BytePos(
                                                                                            125,
                                                                                        ),
                                                                                        ctxt: #0,
                                                                                    },
                                                                                    props: [
                                                                                        Prop(
                                                                                            Shorthand(
                                                                                                Ident {
                                                                                                    span: Span {
                                                                                                        lo: BytePos(
                                                                                                            122,
                                                                                                        ),
                                                                                                        hi: BytePos(
                                                                                                            123,
                                                                                                        ),
                                                                                                        ctxt: #0,
                                                                                                    },
                                                                                                    sym: Atom('x' type=inline),
                                                                                                    type_ann: None,
                                                                                                    optional: false,
                                                                                                },
                                                                                            ),
                                                                                        ),
                                                                                    ],
                                                                                },
                                                                            ),
                                                                        },
                                                                    ),
                                                                    Some(
                                                                        ExprOrSpread {
                                                                            spread: None,
                                                                            expr: Bin(
                                                                                BinExpr {
                                                                                    span: Span {
                                                                                        lo: BytePos(
                                                                                            127,
                                                                                        ),
                                                                                        hi: BytePos(
                                                                                            132,
                                                                                        ),
                                                                                        ctxt: #0,
                                                                                    },
                                                                                    op: "+",
                                                                                    left: Ident(
                                                                                        Ident {
                                                                                            span: Span {
                                                                                                lo: BytePos(
                                                                                                    127,
                                                                                                ),
                                                                                                hi: BytePos(
                                                                                                    128,
                                                                                                ),
                                                                                                ctxt: #0,
                                                                                            },
                                                                                            sym: Atom('f' type=inline),
                                                                                            type_ann: None,
                                                                                            optional: false,
                                                                                        },
                                                                                    ),
                                                                                    right: Lit(
                                                                                        Num(
                                                                                            Number {
                                                                                                span: Span {
                                                                                                    lo: BytePos(
                                                                                                        131,
                                                                                                    ),
                                                                                                    hi: BytePos(
                                                                                                        132,
                                                                                                    ),
                                                                                                    ctxt: #0,
                                                                                                },
                                                                                                value: 1.0,
                                                                                            },
                                                                                        ),
                                                                                    ),
                                                                                },
                                                                            ),
                                                                        },
                                                                    ),
                                                                    Some(
                                                                        ExprOrSpread {
                                                                            spread: None,
                                                                            expr: Update(
                                                                                UpdateExpr {
                                                                                    span: Span {
                                                                                        lo: BytePos(
                                                                                            134,
                                                                                        ),
                                                                                        hi: BytePos(
                                                                                            137,
                                                                                        ),
                                                                                        ctxt: #0,
                                                                                    },
                                                                                    op: "++",
                                                                                    prefix: true,
                                                                                    arg: Ident(
                                                                                        Ident {
                                                                                            span: Span {
                                                                                                lo: BytePos(
                                                                                                    136,
                                                                                                ),
                                                                                                hi: BytePos(
                                                                                                    137,
                                                                                                ),
                                                                                                ctxt: #0,
                                                                                            },
                                                                                            sym: Atom('g' type=inline),
                                                                                            type_ann: None,
                                                                                            optional: false,
                                                                                        },
                                                                                    ),
                                                                                },
                                                                            ),
                                                                        },
                                                                    ),
                                                                ],
                                                            },
                                                        ),
                                                    },
                                                ),
                                            ),
                                        },
                                    ),
                                ],
                            },
                        ),
                        is_generator: false,
                        is_async: false,
                        type_params: None,
                        return_type: None,
                    },
                },
            ),
        ),
        Expr(
            Seq(
                SeqExpr {
                    span: Span {
                        lo: BytePos(
                            150,
                        ),
                        hi: BytePos(
                            160,
                        ),
                        ctxt: #0,
                    },
                    exprs: [
                        Call(
                            CallExpr {
                                span: Span {
                                    lo: BytePos(
                                        150,
                                    ),
                                    hi: BytePos(
                                        154,
                                    ),
                                    ctxt: #0,
                                },
                                callee: Expr(
                                    Ident(
                                        Ident {
                                            span: Span {
                                                lo: BytePos(
                                                    150,
                                                ),
                                                hi: BytePos(
                                                    151,
                                                ),
                                                ctxt: #0,
                                            },
                                            sym: Atom('f' type=inline),
                                            type_ann: None,
                                            optional: false,
                                        },
                                    ),
                                ),
                                args: [
                                    ExprOrSpread {
                                        spread: None,
                                        expr: Lit(
                                            Num(
                                                Number {
                                                    span: Span {
                                                        lo: BytePos(
                                                            152,
                                                        ),
                                                        hi: BytePos(
                                                            153,
                                                        ),
                                                        ctxt: #0,
                                                    },
                                                    value: 1.0,
                                                },
                                            ),
                                        ),
                                    },
                                ],
                                type_args: None,
                            },
                        ),
                        Lit(
                            Bool(
                                Bool {
                                    span: Span {
                                        lo: BytePos(
                                            156,
                                        ),
                                        hi: BytePos(
                                            160,
                                        ),
                                        ctxt: #0,
                                    },
                                    value: true,
                                },
                            ),
                        ),
                    ],
                },
            ),
        ),
    ],
    shebang: None,
}
